<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/relatorio1.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <title>Relatório 1</title>
</head>

<body>
    
    <header>
        <a href="index.html"><img class="ufabc" src="assets/img/ufabc.png" alt="ufabc logo"></a>
        <h1>Relatório 1</h1>
        <h2>Processamento de Vídeo 2023.2</h2>
        
    </header>

    <main>
    	<h3>Introdução</h3>
			<p>Ao utilizar o OpenCV com a linguagem Python, é possível rodar um script para receber uma entrada e transformá-la em um
				arquivo de imagem (no caso do relatório, foram utilizadas uma webcam e outras imagens.)
			</p>
			<h4>Objetivos</h4>
			<ul>
				<li>Iniciar os trabalhos no Ubuntu com o OpenCV</li>
				<li>Conhecer os comandos para visualizar e gravar imagens e videos</li>
				<li>Gravar um Vídeo e mostrá-lo no relatório</li>
			</ul>
        
    	<h3>Fundamentos básicos</h3>
			<p>Ubuntu: é um sistema operacional ou sistema operativo de código aberto, construído a partir do núcleo Linux.</p>
			<p>OpenCV: é uma biblioteca multiplataforma, totalmente livre ao uso acadêmico e comercial, para o desenvolvimento de aplicativos na área de Visão computacional.</p>
			<p>Miniconda: Conda é um gerenciador de pacotes de código aberto multiplataforma
				, independente de linguagem e sistema de gerenciamento de ambiente. Ele foi originalmente desenvolvido para solucionar os 
				difíceis desafios de gerenciamento de pacotes enfrentados pelos cientistas de dados Python e hoje é um gerenciador de pacotes 
				popular para Python e R .</p>
    	
    	<h3>Materiais e métodos</h3>
			<ul>
				<li>Webcam</li>
				<li>Ubuntu</li>
				<li>Miniconda</li>
				<li>Python</li>
				<li>OpenCV</li>
			</ul>
			<h4>Parte 1</h4>
			<p>Foi realizada a instalação do OpenCV (disponível em https://linuxize.com/post/how-to-install-opencv-on-ubuntu-20-04/) e do 
				Miniconda3 (disponível em https://docs.conda.io/en/latest/miniconda.html#linux-installers) no ambiente Ubuntu e foi realizada 
				a execução teste dos arquivos disponibilizados pelo professor através do terminal Ubuntu utilizando o comando "python 3 nomeDoArquivo.py".</p>
				
			<h4>Parte 2</h4>
			<p>A) Por que a janela aberta não mostra a imagem colorida?</p>
			<p>Resposta: porque o algoritmo converte a imagem original em um png em escala gray e mostra ela em seguida, podendo ser salva 
				pressionando a tecla S.</p>
			<img src="assets/img/parte2a.png" alt="">
			
			<p>B) modifique o programa para que as imagens sejam exibidas mais
				rápidamente e depois para que sejam exibidas mais lentamente. Responda
				qual a explicação de alteração de velocidade de exibição, e apresente suas
				soluções detalhadamente.</p>
			<p>Resposta: para alterar a velocidade, basta aumentar o valor do divisor na linha 15, fazendo com que o programa espere menos tempo 
				para passar para o próximo frame. Para diminuir a velocidade, basta diminuir o valor do divisor. A função time.sleep faz com que o 
				programa aguarde uma determinada quantidade de tempo antes de passar para a próxima linha, que no caso é a linha 12, que captura os 
				frames do vídeo.</p>
			<img src="assets/img/parte2b.png" alt="">
			
			<p>C) modifique o programa para que uma imagem da câmera seja salva
				num arquivo “foto1.png” no momento em que for clicada a tecla ‘x’ no
				teclado. Apresente o resultado e sua solução detalhadamente.</p>
			<p>Resposta: para que o arquivo gerado fosse salvo, foi utilizado parte do programa de L1_1_img.py, mais especificamente os comandos waitKey 
				para que o programa registrasse a tecla apertada (X (ignorar comentários no programa)) e o comando imwrite, que salva o frame no arquivo
				foto1.png.
			</p>
			<img src="assets/img/parte2c.png" alt="">
		
			<p>D) modifique o programa para que as imagens gravadas estejam
				“normais” no arquivo de video salvo, e apresentem uma velocidade de
				exibição adequada. Apresente o resultado e sua solução detalhadamente.</p>
			<p>Resposta: para inverter a imagem gerada, bastou alterar o valor de 0 para 1 da linha "frame = cv.flip(frame,1)". Para alterar a velocidade 
				de gravação, basta alterar o valor fps da linha "fps = 40", quanto maior o valor, maior a velocidade de gravação.
			</p>
			<img src="assets/img/parte2d.png" alt="">
			
			
			<h4>Parte 3</h4>
			<p>A) A foto de todos os integrantes do grupo foi obtida através do programa C da parte 2 em python que foi disponibilizado e modificado 
				para que fosse possível gravar a imagem da webcam.
			</p>
			<p>B) A montagem da foto dos integrantes com os avatares foi realizada utilizando o editor de fotos Paint3d, onde foram utilizadas as funções 
				de seleção mágica e recortar/colar.
			</p>
			<p>C) Para realizar a gravação dos vídeos dos integrantes e dos objetos, foi utilizado o programa modificado do item D da parte 2, onde 
				foram alteradas as propriedades de FPS para acelerar ou desacelerar o vídeo.
			</p>
    	
		<h3>Resultados e análise</h3>
			<h4>PARTE 1</h4>
			<p>Ao executar o comando, a imagem original apareceu sem alterações.</p>
			<img class="teste1" src="assets/img/teste1.png" alt="teste 1">

			<h4>PARTE 2</h4>
			<p>A) A imagem ficou em preto e branco devido aos parâmetros passados na função imread.</p>
			<img class="teste1" src="assets/img/print1.png" alt="">
			<p>B) A função time.sleep retarda a velocidade de troca de frame.</p>
			<img class="teste1" src="assets/img/print2.png" alt="">
			<p>C) Embora a foto tenha sido salva com sucesso, foi necessário segurar a tecla X ao invés de apenas pressionar, não se sabe se foi bug ou 
				variações do teclado.
			</p>
			<img class="teste1" src="assets/img/print3.png" alt="">
			<p>D) O vídeo foi salvo normalmente. A função video.writer recebe como parâmetros (const String &filename, int fourcc, double fps, Size frameSize, bool isColor=true), 
				tornando o processo de modificação mais fácil.
			</p>
			<video controls class="video" loop><source src="assets/videos/pessoarapido.mp4" type="video/mp4"></video>

			<h4>PARTE 3</h4>
			<p>A) Foto com todos os integrantes do grupo, tirada usando OpenCV. Os integrantes utilizaram os mesmos tons de roupa mas isso não influenciou o resultado final. 
				A qualidade da webcam era baixa e a imagem apresentou granulações, o que é bom para a vizualização dos efeitos dos filtros no próximo relatório.
			</p>
			<img src="assets/img/fotogrupo.png" alt="">
			<p>B) Montagem dos integrantes com os avatares. Os avatares apresentam resoluções diferentes, o que também será útil para visualizar o efeito 
				dos filtros.
			</p>
			<img src="assets/img/fotogrupoeditado.png" alt="">
			<p>C) Filmem e editem DOIS vídeos com pessoas e DOIS videos com um objeto. A edição foi realizada utilizando o arquivo do item D da 
				parte 2. Inicialmente o vídeo apresenta uma coloração esverdeada mas logo volta ao normal.
			</p>
			<div class="videos">
				<video controls class="video" loop><source src="assets/videos/objlento.mp4" type="video/mp4"></video>
				<video controls class="video" loop><source src="assets/videos/objrapido.mp4" type="video/mp4"></video>
				<video controls class="video" loop><source src="assets/videos/pessoalento.mp4" type="video/mp4"></video>
				<video controls class="video" loop><source src="assets/videos/pessoarapido.mp4" type="video/mp4"></video>
			</div>
		<h3>Conclusões e Comentários finais</h3>
		<p>Nesse experimento foram arbodados conceitos básicos para o entendimento do funcionamento do OpenCV e do ambiente Ubuntu, sendo mais uma 
			preparação e introdução aos próximos laboratórios. Foram usados comandos como ferramentas de personalização de mídia presentes em aplicativos 
			usuais de edição e isso abre brecha para mais possibilidades de edição e de entendimento sobre como esses aplicativos funcionam.
		</p>
    </main>

    <footer>
        <p>Página do grupo composto por Lucas Medeiros e Erikson Jose para a disciplina de processamento de video 2023.2</p>
        <p>Professor: Celso S Kurashima</p>
    </footer>
</body>

</html>
